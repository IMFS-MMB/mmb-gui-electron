function [residual, g1, g2, g3] = NK_NS14_dynamic(y, x, params, steady_state, it_)
%
% Status : Computes dynamic model for Dynare
%
% Inputs :
%   y         [#dynamic variables by 1] double    vector of endogenous variables in the order stored
%                                                 in M_.lead_lag_incidence; see the Manual
%   x         [nperiods by M_.exo_nbr] double     matrix of exogenous variables (in declaration order)
%                                                 for all simulation periods
%   steady_state  [M_.endo_nbr by 1] double       vector of steady state values
%   params    [M_.param_nbr by 1] double          vector of parameter values in declaration order
%   it_       scalar double                       time period for exogenous variables for which to evaluate the model
%
% Outputs:
%   residual  [M_.endo_nbr by 1] double    vector of residuals of the dynamic model equations in order of 
%                                          declaration of the equations.
%                                          Dynare may prepend auxiliary equations, see M_.aux_vars
%   g1        [M_.endo_nbr by #dynamic variables] double    Jacobian matrix of the dynamic model equations;
%                                                           rows: equations in order of declaration
%                                                           columns: variables in order stored in M_.lead_lag_incidence followed by the ones in M_.exo_names
%   g2        [M_.endo_nbr by (#dynamic variables)^2] double   Hessian matrix of the dynamic model equations;
%                                                              rows: equations in order of declaration
%                                                              columns: variables in order stored in M_.lead_lag_incidence followed by the ones in M_.exo_names
%   g3        [M_.endo_nbr by (#dynamic variables)^3] double   Third order derivative matrix of the dynamic model equations;
%                                                              rows: equations in order of declaration
%                                                              columns: variables in order stored in M_.lead_lag_incidence followed by the ones in M_.exo_names
%
%
% Warning : this file is generated automatically by Dynare
%           from model file (.mod)

%
% Model equations
%

residual = zeros(78, 1);
T3 = (-1);
T211 = params(35)/params(36);
T263 = params(44)*params(42)*(1-params(46))/params(46);
T271 = params(42)*(1-params(46))/params(46)*params(45);
T295 = params(44)*params(41)*params(46)/(1-params(46));
T302 = params(41)*params(45)*params(46)/(1-params(46));
T308 = params(40)*params(47)*(params(44)+params(45))*(params(43)+params(41)*params(46)/(1-params(46)))/params(41);
T362 = 1/params(54);
T394 = params(35)^T3;
T398 = params(36)^T3;
lhs =y(81);
rhs =y(36)*4;
residual(1)= lhs-rhs;
lhs =y(82);
rhs =params(46)*0.25*(4*y(37)+4*y(1)+4*y(18)+4*y(19))+0.25*(1-params(46))*(4*y(38)+4*y(2)+4*y(20)+4*y(21));
residual(2)= lhs-rhs;
lhs =y(83);
rhs =4*params(46)*y(37)+4*(1-params(46))*y(38);
residual(3)= lhs-rhs;
lhs =y(86);
rhs =params(46)*y(48)+(1-params(46))*y(49)-(params(46)*y(68)+(1-params(46))*y(69));
residual(4)= lhs-rhs;
lhs =y(84);
rhs =params(46)*y(48)+(1-params(46))*y(49);
residual(5)= lhs-rhs;
lhs =y(85);
rhs =y(80);
residual(6)= lhs-rhs;
lhs =y(81);
rhs =params(32)*x(it_, 3)+params(31)*y(142)+params(30)*y(141)+params(29)*y(140)+params(28)*y(132)+params(27)*y(24)+params(26)*y(23)+params(25)*y(22)+params(24)*y(16)+y(84)*params(23)+params(22)*y(139)+params(21)*y(138)+params(20)*y(137)+params(19)*y(133)+params(18)*y(27)+params(17)*y(26)+params(16)*y(25)+params(15)*y(17)+y(86)*params(14)+params(13)*y(136)+params(12)*y(135)+params(11)*y(134)+params(10)*y(131)+params(6)*y(15)+y(83)*params(5)+params(1)*y(14)+params(2)*y(28)+params(3)*y(29)+params(4)*y(30)+params(7)*y(31)+params(8)*y(32)+params(9)*y(33);
residual(7)= lhs-rhs;
lhs =y(85);
rhs =params(34)*x(it_, 4);
residual(8)= lhs-rhs;
lhs =y(34);
rhs =y(112)-params(35)*(y(36)-y(114))+T211*y(41)-T211*y(117);
residual(9)= lhs-rhs;
lhs =y(34)-y(35);
rhs =params(35)*y(60)+T211*(y(41)-y(42));
residual(10)= lhs-rhs;
lhs =y(39);
rhs =params(37)*y(115)+params(38)*params(39)*y(46);
residual(11)= lhs-rhs;
lhs =y(40);
rhs =params(37)*y(116)+params(38)*params(39)*y(47);
residual(12)= lhs-rhs;
lhs =y(37);
rhs =y(39)*params(40)+y(40)*params(41);
residual(13)= lhs-rhs;
lhs =y(38);
rhs =y(39)*params(42)+y(40)*params(43);
residual(14)= lhs-rhs;
lhs =y(48);
rhs =y(34)*params(40)*params(44)+y(35)*T263+params(40)*params(45)*y(54)+T271*y(55)-params(47)*(params(44)+params(45))*(params(40)+params(42)*(1-params(46))/params(46))*y(43)+y(60)*params(42)*(1-params(46))*params(47)*(params(44)+params(45))/params(46)+y(50);
residual(15)= lhs-rhs;
lhs =y(49);
rhs =y(35)*params(43)*params(44)+y(34)*T295+y(55)*params(43)*params(45)+y(54)*T302+y(43)*T308+y(60)*params(43)*params(47)*(params(44)+params(45))+y(51);
residual(16)= lhs-rhs;
lhs =y(43)-y(3);
rhs =y(39)-y(37);
residual(17)= lhs-rhs;
lhs =params(42)*y(43)-y(43)*params(43)*params(40)/params(41);
rhs =y(60);
residual(18)= lhs-rhs;
lhs =y(50);
rhs =y(80)+params(52)*y(6)+x(it_, 1);
residual(19)= lhs-rhs;
lhs =y(51);
rhs =y(80)+params(52)*y(7)+x(it_, 2);
residual(20)= lhs-rhs;
lhs =y(58);
rhs =y(48)+y(44);
residual(21)= lhs-rhs;
lhs =y(59);
rhs =y(49)+y(45);
residual(22)= lhs-rhs;
lhs =y(48);
rhs =y(41)*params(53)+(1-params(53))*y(8);
residual(23)= lhs-rhs;
lhs =y(49);
rhs =y(42)*params(53)+(1-params(53))*y(9);
residual(24)= lhs-rhs;
lhs =y(52);
rhs =y(41)*T362;
residual(25)= lhs-rhs;
lhs =y(53);
rhs =y(42)*T362;
residual(26)= lhs-rhs;
lhs =y(46)+y(43);
rhs =y(48)*params(55)-y(8)*(params(55)-T362);
residual(27)= lhs-rhs;
lhs =y(47)-y(43)*params(40)/params(41);
rhs =y(60)+y(49)*params(55)-y(9)*(params(55)-T362);
residual(28)= lhs-rhs;
lhs =y(56);
rhs =y(8)*(1-params(56))+y(54)*params(56);
residual(29)= lhs-rhs;
lhs =y(57);
rhs =y(9)*(1-params(56))+y(55)*params(56);
residual(30)= lhs-rhs;
lhs =y(34)*T394-y(112)*T394-y(41)*T398+y(117)*T398-y(56)*(1+params(37))*params(57)-y(56)*(1-params(37)*(1-params(56)))*params(59)+params(37)*params(57)*y(121)+(1-params(37)*(1-params(56)))*params(58)*y(119);
rhs =y(8)*(-params(57));
residual(31)= lhs-rhs;
lhs =y(35)*T394-T394*y(113)-y(42)*T398+T398*y(118)-y(57)*(1+params(37))*params(57)-y(57)*(1-params(37)*(1-params(56)))*params(59)+params(37)*params(57)*y(122)+(1-params(37)*(1-params(56)))*params(58)*y(120);
rhs =y(9)*(-params(57));
residual(32)= lhs-rhs;
lhs =y(44);
rhs =y(39)+y(4);
residual(33)= lhs-rhs;
lhs =y(45);
rhs =y(40)+y(5);
residual(34)= lhs-rhs;
lhs =y(61);
rhs =y(123)-params(35)*y(63)+T211*y(64)-T211*y(125);
residual(35)= lhs-rhs;
lhs =y(61)-y(62);
rhs =T211*(y(64)-y(65));
residual(36)= lhs-rhs;
lhs =y(68);
rhs =params(40)*params(44)*y(61)+T263*y(62)+params(40)*params(45)*y(74)+T271*y(75)+y(70);
residual(37)= lhs-rhs;
lhs =y(69);
rhs =params(43)*params(44)*y(62)+T295*y(61)+params(43)*params(45)*y(75)+T302*y(74)+y(71);
residual(38)= lhs-rhs;
residual(39) = params(46)*y(66)+(1-params(46))*y(67);
lhs =y(70);
rhs =y(80)+x(it_, 1)+params(52)*y(10);
residual(40)= lhs-rhs;
lhs =y(71);
rhs =y(80)+x(it_, 2)+params(52)*y(11);
residual(41)= lhs-rhs;
lhs =y(78);
rhs =y(68);
residual(42)= lhs-rhs;
lhs =y(79);
rhs =y(69);
residual(43)= lhs-rhs;
lhs =y(68);
rhs =params(53)*y(64)+(1-params(53))*y(12);
residual(44)= lhs-rhs;
lhs =y(69);
rhs =params(53)*y(65)+(1-params(53))*y(13);
residual(45)= lhs-rhs;
lhs =y(72);
rhs =T362*y(64);
residual(46)= lhs-rhs;
lhs =y(73);
rhs =T362*y(65);
residual(47)= lhs-rhs;
lhs =y(66);
rhs =y(68)*params(55)-(params(55)-T362)*y(12);
residual(48)= lhs-rhs;
lhs =y(67);
rhs =y(69)*params(55)-(params(55)-T362)*y(13);
residual(49)= lhs-rhs;
lhs =y(76);
rhs =(1-params(56))*y(12)+params(56)*y(74);
residual(50)= lhs-rhs;
lhs =y(77);
rhs =(1-params(56))*y(13)+params(56)*y(75);
residual(51)= lhs-rhs;
lhs =T394*y(61)-T394*y(123)-T398*y(64)+T398*y(125)-(1+params(37))*params(57)*y(76)-(1-params(37)*(1-params(56)))*params(59)*y(76)+params(37)*params(57)*y(129)+(1-params(37)*(1-params(56)))*params(58)*y(127);
rhs =(-params(57))*y(12);
residual(52)= lhs-rhs;
lhs =T394*y(62)-T394*y(124)-T398*y(65)+T398*y(126)-(1+params(37))*params(57)*y(77)-(1-params(37)*(1-params(56)))*params(59)*y(77)+params(37)*params(57)*y(130)+(1-params(37)*(1-params(56)))*params(58)*y(128);
rhs =(-params(57))*y(13);
residual(53)= lhs-rhs;
lhs =y(87);
rhs =y(131);
residual(54)= lhs-rhs;
lhs =y(88);
rhs =y(134);
residual(55)= lhs-rhs;
lhs =y(89);
rhs =y(135);
residual(56)= lhs-rhs;
lhs =y(90);
rhs =y(133);
residual(57)= lhs-rhs;
lhs =y(91);
rhs =y(137);
residual(58)= lhs-rhs;
lhs =y(92);
rhs =y(138);
residual(59)= lhs-rhs;
lhs =y(93);
rhs =y(132);
residual(60)= lhs-rhs;
lhs =y(94);
rhs =y(140);
residual(61)= lhs-rhs;
lhs =y(95);
rhs =y(141);
residual(62)= lhs-rhs;
lhs =y(96);
rhs =y(1);
residual(63)= lhs-rhs;
lhs =y(97);
rhs =y(18);
residual(64)= lhs-rhs;
lhs =y(98);
rhs =y(2);
residual(65)= lhs-rhs;
lhs =y(99);
rhs =y(20);
residual(66)= lhs-rhs;
lhs =y(100);
rhs =y(16);
residual(67)= lhs-rhs;
lhs =y(101);
rhs =y(22);
residual(68)= lhs-rhs;
lhs =y(102);
rhs =y(23);
residual(69)= lhs-rhs;
lhs =y(103);
rhs =y(17);
residual(70)= lhs-rhs;
lhs =y(104);
rhs =y(25);
residual(71)= lhs-rhs;
lhs =y(105);
rhs =y(26);
residual(72)= lhs-rhs;
lhs =y(106);
rhs =y(14);
residual(73)= lhs-rhs;
lhs =y(107);
rhs =y(28);
residual(74)= lhs-rhs;
lhs =y(108);
rhs =y(29);
residual(75)= lhs-rhs;
lhs =y(109);
rhs =y(15);
residual(76)= lhs-rhs;
lhs =y(110);
rhs =y(31);
residual(77)= lhs-rhs;
lhs =y(111);
rhs =y(32);
residual(78)= lhs-rhs;
if nargout >= 2,
  g1 = zeros(78, 146);

  %
  % Jacobian matrix
  %

  g1(1,36)=(-4);
  g1(1,81)=1;
  g1(2,1)=(-(4*params(46)*0.25));
  g1(2,37)=(-(4*params(46)*0.25));
  g1(2,2)=(-(4*0.25*(1-params(46))));
  g1(2,38)=(-(4*0.25*(1-params(46))));
  g1(2,82)=1;
  g1(2,18)=(-(4*params(46)*0.25));
  g1(2,19)=(-(4*params(46)*0.25));
  g1(2,20)=(-(4*0.25*(1-params(46))));
  g1(2,21)=(-(4*0.25*(1-params(46))));
  g1(3,37)=(-(4*params(46)));
  g1(3,38)=(-(4*(1-params(46))));
  g1(3,83)=1;
  g1(4,48)=(-params(46));
  g1(4,49)=(-(1-params(46)));
  g1(4,68)=params(46);
  g1(4,69)=1-params(46);
  g1(4,86)=1;
  g1(5,48)=(-params(46));
  g1(5,49)=(-(1-params(46)));
  g1(5,84)=1;
  g1(6,80)=T3;
  g1(6,85)=1;
  g1(7,14)=(-params(1));
  g1(7,81)=1;
  g1(7,15)=(-params(6));
  g1(7,83)=(-params(5));
  g1(7,131)=(-params(10));
  g1(7,16)=(-params(24));
  g1(7,84)=(-params(23));
  g1(7,132)=(-params(28));
  g1(7,17)=(-params(15));
  g1(7,86)=(-params(14));
  g1(7,133)=(-params(19));
  g1(7,145)=(-params(32));
  g1(7,134)=(-params(11));
  g1(7,135)=(-params(12));
  g1(7,136)=(-params(13));
  g1(7,137)=(-params(20));
  g1(7,138)=(-params(21));
  g1(7,139)=(-params(22));
  g1(7,140)=(-params(29));
  g1(7,141)=(-params(30));
  g1(7,142)=(-params(31));
  g1(7,22)=(-params(25));
  g1(7,23)=(-params(26));
  g1(7,24)=(-params(27));
  g1(7,25)=(-params(16));
  g1(7,26)=(-params(17));
  g1(7,27)=(-params(18));
  g1(7,28)=(-params(2));
  g1(7,29)=(-params(3));
  g1(7,30)=(-params(4));
  g1(7,31)=(-params(7));
  g1(7,32)=(-params(8));
  g1(7,33)=(-params(9));
  g1(8,85)=1;
  g1(8,146)=(-params(34));
  g1(9,34)=1;
  g1(9,112)=T3;
  g1(9,36)=params(35);
  g1(9,114)=(-params(35));
  g1(9,41)=(-T211);
  g1(9,117)=T211;
  g1(10,34)=1;
  g1(10,35)=T3;
  g1(10,41)=(-T211);
  g1(10,42)=T211;
  g1(10,60)=(-params(35));
  g1(11,39)=1;
  g1(11,115)=(-params(37));
  g1(11,46)=(-(params(38)*params(39)));
  g1(12,40)=1;
  g1(12,116)=(-params(37));
  g1(12,47)=(-(params(38)*params(39)));
  g1(13,37)=1;
  g1(13,39)=(-params(40));
  g1(13,40)=(-params(41));
  g1(14,38)=1;
  g1(14,39)=(-params(42));
  g1(14,40)=(-params(43));
  g1(15,34)=(-(params(40)*params(44)));
  g1(15,35)=(-T263);
  g1(15,43)=params(47)*(params(44)+params(45))*(params(40)+params(42)*(1-params(46))/params(46));
  g1(15,48)=1;
  g1(15,50)=T3;
  g1(15,54)=(-(params(40)*params(45)));
  g1(15,55)=(-T271);
  g1(15,60)=(-(params(42)*(1-params(46))*params(47)*(params(44)+params(45))/params(46)));
  g1(16,34)=(-T295);
  g1(16,35)=(-(params(43)*params(44)));
  g1(16,43)=(-T308);
  g1(16,49)=1;
  g1(16,51)=T3;
  g1(16,54)=(-T302);
  g1(16,55)=(-(params(43)*params(45)));
  g1(16,60)=(-(params(43)*params(47)*(params(44)+params(45))));
  g1(17,37)=1;
  g1(17,39)=T3;
  g1(17,3)=T3;
  g1(17,43)=1;
  g1(18,43)=params(42)-params(43)*params(40)/params(41);
  g1(18,60)=T3;
  g1(19,6)=(-params(52));
  g1(19,50)=1;
  g1(19,80)=T3;
  g1(19,143)=T3;
  g1(20,7)=(-params(52));
  g1(20,51)=1;
  g1(20,80)=T3;
  g1(20,144)=T3;
  g1(21,44)=T3;
  g1(21,48)=T3;
  g1(21,58)=1;
  g1(22,45)=T3;
  g1(22,49)=T3;
  g1(22,59)=1;
  g1(23,41)=(-params(53));
  g1(23,48)=1;
  g1(23,8)=(-(1-params(53)));
  g1(24,42)=(-params(53));
  g1(24,49)=1;
  g1(24,9)=(-(1-params(53)));
  g1(25,41)=(-T362);
  g1(25,52)=1;
  g1(26,42)=(-T362);
  g1(26,53)=1;
  g1(27,43)=1;
  g1(27,46)=1;
  g1(27,48)=(-params(55));
  g1(27,8)=params(55)-T362;
  g1(28,43)=(-(params(40)/params(41)));
  g1(28,47)=1;
  g1(28,49)=(-params(55));
  g1(28,9)=params(55)-T362;
  g1(28,60)=T3;
  g1(29,54)=(-params(56));
  g1(29,8)=(-(1-params(56)));
  g1(29,56)=1;
  g1(30,55)=(-params(56));
  g1(30,9)=(-(1-params(56)));
  g1(30,57)=1;
  g1(31,34)=T394;
  g1(31,112)=(-T394);
  g1(31,41)=(-T398);
  g1(31,117)=T398;
  g1(31,119)=(1-params(37)*(1-params(56)))*params(58);
  g1(31,8)=params(57);
  g1(31,56)=(-((1+params(37))*params(57)))-(1-params(37)*(1-params(56)))*params(59);
  g1(31,121)=params(37)*params(57);
  g1(32,35)=T394;
  g1(32,113)=(-T394);
  g1(32,42)=(-T398);
  g1(32,118)=T398;
  g1(32,120)=(1-params(37)*(1-params(56)))*params(58);
  g1(32,9)=params(57);
  g1(32,57)=(-((1+params(37))*params(57)))-(1-params(37)*(1-params(56)))*params(59);
  g1(32,122)=params(37)*params(57);
  g1(33,39)=T3;
  g1(33,4)=T3;
  g1(33,44)=1;
  g1(34,40)=T3;
  g1(34,5)=T3;
  g1(34,45)=1;
  g1(35,61)=1;
  g1(35,123)=T3;
  g1(35,63)=params(35);
  g1(35,64)=(-T211);
  g1(35,125)=T211;
  g1(36,61)=1;
  g1(36,62)=T3;
  g1(36,64)=(-T211);
  g1(36,65)=T211;
  g1(37,61)=(-(params(40)*params(44)));
  g1(37,62)=(-T263);
  g1(37,68)=1;
  g1(37,70)=T3;
  g1(37,74)=(-(params(40)*params(45)));
  g1(37,75)=(-T271);
  g1(38,61)=(-T295);
  g1(38,62)=(-(params(43)*params(44)));
  g1(38,69)=1;
  g1(38,71)=T3;
  g1(38,74)=(-T302);
  g1(38,75)=(-(params(43)*params(45)));
  g1(39,66)=params(46);
  g1(39,67)=1-params(46);
  g1(40,10)=(-params(52));
  g1(40,70)=1;
  g1(40,80)=T3;
  g1(40,143)=T3;
  g1(41,11)=(-params(52));
  g1(41,71)=1;
  g1(41,80)=T3;
  g1(41,144)=T3;
  g1(42,68)=T3;
  g1(42,78)=1;
  g1(43,69)=T3;
  g1(43,79)=1;
  g1(44,64)=(-params(53));
  g1(44,68)=1;
  g1(44,12)=(-(1-params(53)));
  g1(45,65)=(-params(53));
  g1(45,69)=1;
  g1(45,13)=(-(1-params(53)));
  g1(46,64)=(-T362);
  g1(46,72)=1;
  g1(47,65)=(-T362);
  g1(47,73)=1;
  g1(48,66)=1;
  g1(48,68)=(-params(55));
  g1(48,12)=params(55)-T362;
  g1(49,67)=1;
  g1(49,69)=(-params(55));
  g1(49,13)=params(55)-T362;
  g1(50,74)=(-params(56));
  g1(50,12)=(-(1-params(56)));
  g1(50,76)=1;
  g1(51,75)=(-params(56));
  g1(51,13)=(-(1-params(56)));
  g1(51,77)=1;
  g1(52,61)=T394;
  g1(52,123)=(-T394);
  g1(52,64)=(-T398);
  g1(52,125)=T398;
  g1(52,127)=(1-params(37)*(1-params(56)))*params(58);
  g1(52,12)=params(57);
  g1(52,76)=(-((1+params(37))*params(57)))-(1-params(37)*(1-params(56)))*params(59);
  g1(52,129)=params(37)*params(57);
  g1(53,62)=T394;
  g1(53,124)=(-T394);
  g1(53,65)=(-T398);
  g1(53,126)=T398;
  g1(53,128)=(1-params(37)*(1-params(56)))*params(58);
  g1(53,13)=params(57);
  g1(53,77)=(-((1+params(37))*params(57)))-(1-params(37)*(1-params(56)))*params(59);
  g1(53,130)=params(37)*params(57);
  g1(54,131)=T3;
  g1(54,87)=1;
  g1(55,134)=T3;
  g1(55,88)=1;
  g1(56,135)=T3;
  g1(56,89)=1;
  g1(57,133)=T3;
  g1(57,90)=1;
  g1(58,137)=T3;
  g1(58,91)=1;
  g1(59,138)=T3;
  g1(59,92)=1;
  g1(60,132)=T3;
  g1(60,93)=1;
  g1(61,140)=T3;
  g1(61,94)=1;
  g1(62,141)=T3;
  g1(62,95)=1;
  g1(63,1)=T3;
  g1(63,96)=1;
  g1(64,18)=T3;
  g1(64,97)=1;
  g1(65,2)=T3;
  g1(65,98)=1;
  g1(66,20)=T3;
  g1(66,99)=1;
  g1(67,16)=T3;
  g1(67,100)=1;
  g1(68,22)=T3;
  g1(68,101)=1;
  g1(69,23)=T3;
  g1(69,102)=1;
  g1(70,17)=T3;
  g1(70,103)=1;
  g1(71,25)=T3;
  g1(71,104)=1;
  g1(72,26)=T3;
  g1(72,105)=1;
  g1(73,14)=T3;
  g1(73,106)=1;
  g1(74,28)=T3;
  g1(74,107)=1;
  g1(75,29)=T3;
  g1(75,108)=1;
  g1(76,15)=T3;
  g1(76,109)=1;
  g1(77,31)=T3;
  g1(77,110)=1;
  g1(78,32)=T3;
  g1(78,111)=1;

if nargout >= 3,
  %
  % Hessian matrix
  %

  g2 = sparse([],[],[],78,21316);
if nargout >= 4,
  %
  % Third order derivatives
  %

  g3 = sparse([],[],[],78,3112136);
end
end
end
end
